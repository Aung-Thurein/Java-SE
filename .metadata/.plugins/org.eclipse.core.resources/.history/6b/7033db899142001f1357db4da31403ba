package com.jdc.online.pos.features;

import com.jdc.console.app.AbstractFeature;
import com.jdc.console.app.UserInputs;
import com.jdc.console.app.exceptions.BussinessException;
import com.jdc.online.pos.model.ProductModel;
import com.jdc.online.pos.model.output.Product;
import com.jdc.online.pos.utils.ProductTableHelper;

public class FeatureForAddSale extends AbstractFeature{

	private static final int SIZE = 10;

	public FeatureForAddSale(int id) {
		super(id, "Create Sale");
		// TODO Auto-generated constructor stub
	}

	@Override
	public void doBusiness() {

		//Show Product List 
		System.out.println("Please Select Prouct");
		Product[] result = ProductModel.getInstance().search(null);
		ProductTableHelper.getTableView(result).draw();
		
	do {
		try {
			System.out.println("Add Item");
			//Get Product ID
			int id = UserInputs.readInt(SIZE, "Proudct ID");
			Product product = ProductModel.getInstance().findById(id);
			//show price
			System.out.printf("%-10s : %s%n", "Name",product.name());
			System.out.printf("%-10s : %s%n", "Price",product.price());
			
			//Get Quantity
			int quantity = UserInputs.readInt(SIZE, "Quantity");
			
			//Show total for Items

			
		} catch (BussinessException e) {
			// TODO: handle exception
		}
	}
	while(isEmpytInCart());
	
		//register Sale History 
	}

	private boolean isEmpytInCart() {
		
		return false;
	}

}
