package com.jdc.online.pos.model.component;

import com.jdc.console.app.component.TabelViewModel;
import com.jdc.online.pos.model.output.Sale;

import static com.jdc.console.app.utils.FormatUtils.*;
public class SaleModelAdaptor implements TabelViewModel {
	private Sale[]sales;
	private String rowFormat;
	private static String [] headers = {"Id","SaleAt","Items","Total"};
	private static int [] columnSizes = {};
	
	static {
		
		for (int i = 0; i < headers.length; i++) {
			columnSizes[i] =  headers[i].length() + 3;
		}
	}
	
	public SaleModelAdaptor(Sale[] sales) {
		super();
		this.sales = sales;
		
		for(Sale sale : sales) {
			if(String.valueOf(sale.id()).length() + 3 > columnSizes[0]) {
				columnSizes[0] = String.valueOf(sale.id()).length() + 3;
			}
			
			if(DATE_TIMEFMT.format(sale.sateAt()).length() + 3 > columnSizes[1]) {
				 columnSizes[1] = DATE_TIMEFMT.format(sale.sateAt()).length() + 3 ;
			}
			
			if(String.valueOf(sale.getItemCount()).length() +3 > columnSizes[2]) {
				columnSizes[2] = String.valueOf(sale.getItemCount()).length() +3;
			}
			if(String.valueOf(sale.getAllTotal()).length() + 3 > columnSizes [3]) {
				columnSizes [3] = String.valueOf(sale.getAllTotal()).length() + 3;
			}
			
		}
	}

	@Override
	public int maxSize() {
		
		return 0;
	}

	@Override
	public String header() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String[] rows() {
		// TODO Auto-generated method stub
		return null;
	}
	
	private String setRowFormat() {
		return"";
	}

}
